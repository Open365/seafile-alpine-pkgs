# Contributor: <xmingske@gmail.com>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=seahub
pkgver=5.0.5
pkgrel=1
pkgdesc="web frontend for Seafile"
url="https://github.com/haiwen/seahub/"
arch="noarch"
license="Apache"
depends="bash py-dateutil py-mako py-simplejson py-pillow py-pip py-virtualenv py-six python-dev
         python py-django1.5 py-gunicorn py-chardet py-django-djblets py-ccnet py-libsearpc
	 py-django-simple-captcha py-django-registration py-flup py-seafile seafile-server py-mysqldb"
source="$pkgname-$pkgver.tar.gz::https://github.com/haiwen/seahub/archive/v${pkgver}-server.tar.gz"
install="seahub.post-install"

_builddir="${srcdir}/${pkgname}-${pkgver}-server"

prepare() {
	local pf
	cd "${_builddir}"
	for pf in $source; do
		case $pf in
		*.patch) msg $pf; patch -p1 -i "$srcdir"/${pf} || return 1;;
		esac
	done
}

build() {
	echo
}

package() {
	cd "${_builddir}"
	mkdir -m 755 -p "${pkgdir}"/usr/share/seahub || return 1
	cp -ar "${_builddir}"/* "${pkgdir}"/usr/share/seahub
}
